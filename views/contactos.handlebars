
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contactos â€” JosÃ© Baptista Consulting</title>
<meta name="description" content="Entre em contacto para marcaÃ§Ã£o de consultoria, orientaÃ§Ã£o profissional ou parcerias.">

<meta property="og:title" content="Fale Connosco">
<meta property="og:description" content="Entre em contacto para consultoria profissional.">
<meta property="og:url" content="https://josebaptistaconsulting.pt/contactos">
<meta property="og:image" content="https://josebaptistaconsulting.pt/assets/og-contactos.jpg">

</head>
<body>
  <main class="contactos-page">

    <!-- HERO -->
    <section class="contactos-hero">
        <h1>Contacte-nos</h1>
        <p>Fale connosco para apoio administrativo, desenvolvimento web ou consultoria profissional.</p>
    </section>

    <!-- INFO DE CONTACTO -->
    <section class="contact-info">
        <div class="contact-card">
            <h3>Email</h3>
            <p>ðŸ“© <a href="mailto:josebaptista.consulting@gmail.com">josejbbaptista@gmail.com</a></p>
        </div>

        <div class="contact-card">
            <h3>WhatsApp</h3>
            <p>ðŸ“± <a href="https://wa.me/351964318677" target="_blank">Enviar mensagem</a></p>
        </div>

        <div class="contact-card">
            <h3>LocalizaÃ§Ã£o</h3>
            <p><img src="/images/location.webp" style="width: 30px; height: 30px"> Lisboa, Portugal</p>
        </div>
    </section>

    <!-- FORMULÃRIO -->
    <section class="contact-form-section">
        <h2>Envie a sua mensagem</h2>

        <form id="contactForm" class="contact-form" action="/send-mail" method="POST">

            <div class="form-group">
                <label for="nome">Nome Completo</label>
                <input type="text" id="nome" name="nome" required placeholder="O seu nome">
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required placeholder="O seu email">
            </div>

            <div class="form-group">
                <label for="assunto">Assunto</label>
                <input type="text" id="assunto" name="assunto" required placeholder="Motivo do contacto">
            </div>

            <div class="form-group">
                <label for="mensagem">Mensagem</label>
                <textarea id="mensagem" name="mensagem" placeholder="Escreva a sua mensagem..." rows="6" required></textarea>
            </div>

             <!-- honeypot (esconder via CSS). Nome 'website' Ã© um exemplo -->
            <div style="display:none!important;position:absolute;left:-9999px;">
                <label>Website</label>
                <input type="text" name="website" id="website" autocomplete="off">
            </div>

            
  <!-- honeypot (esconder via CSS). Nome 'website' Ã© um exemplo -->
        <div style="display:none!important;position:absolute;left:-9999px;">
            <label>Website</label>
            <input type="text" name="website" id="website" autocomplete="off">
        </div>
            <div>
            <label class="rgpd">
            <input class="checkbox" type="checkbox" name="rgpd" required>
                Aceito o tratamento dos meus dados para fins de contacto profissional.
            </label>
            </div>

            <div class="g-recaptcha" data-sitekey="6LcmYxksAAAAABP3oZXVxB14UyftRl_jaa-rlNDX"></div>

            <button type="submit" class="btn enviar-btn">Enviar Mensagem</button>
        </form>
        <div id="result"></div>
    </section>

    <!-- MAPA OPCIONAL -->
    <section class="mapa-section">
        <h2>Atendemos todo o paÃ­s</h2>
        <img src="/images/mapa-portugal.jpg" alt="Mapa de Portugal" class="mapa-img">
    </section>

</main>

<!-- reCAPTCHA v3 script (site key) -->
<script src="https://www.google.com/recaptcha/api.js?render=6LcmYxksAAAAABP3oZXVxB14UyftRl_jaa-rlNDX"></script>

<script>
document.getElementById('contactForm').addEventListener('submit', async function(e){
  e.preventDefault();

  // obter token reCAPTCHA
  const siteKey = '6LcmYxksAAAAABP3oZXVxB14UyftRl_jaa-rlNDX'; // substitui com process.env no build / template
  const actionName = 'contact';

  try {
    const token = await grecaptcha.execute(siteKey, { action: actionName });
    document.getElementById('recaptchaToken').value = token;

    // recolher dados do form
    const payload = {
      nome: document.getElementById('nome').value,
      email: document.getElementById('email').value,
      mensagem: document.getElementById('mensagem').value,
      website: document.getElementById('website').value || '',
      recaptchaToken: token
    };

    const res = await fetch('/api/contact', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });

    const json = await res.json();
    alert(json.message || 'Resposta recebida');

  } catch (err) {
    console.error(err);
    alert('Erro ao submeter. Tenta novamente.');
  }
});
</script>

{{!-- <script>
document.getElementById("contactForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const formData = new FormData(e.target);

  const response = await fetch("/send-mail", {
    method: "POST",
    body: formData
  });

  const result = await response.json();
  document.getElementById("result").innerText = result.message;
});
</script> --}}

</body>
</html>


